"use strict";$(document).ready(function(){$(".slider").slider({full_width:!0,transition:300,interval:9e3});$(".modal-trigger").leanModal({dismissable:!0,opacity:.9,in_duration:300,out_duration:200,complete:function(){}});$(".button-collapse").sideNav({menuWidth:300,edge:"right",closeOnClick:!0});$(".carousel").carousel();$("select").material_select();$(".datepicker").pickadate({selectMonths:!0});$(".update-order-input").change(function(n){n.preventDefault();$.ajax({url:"/Orders/UpdateOrder/",data:$(this).closest("form").serialize(),dataType:"json",type:"POST",success:function(n){var i="",r=n.order,e=n.recipe,u=n.orders,f,o,t;if(r.OrderSize<6)for(t=0;t<r.OrderSize;t++)i=i+'<i class="material-icons">redeem<\/i>';if(r.OrderSize>=6){for(t=0;t<6;t++)i=i+'<i class="material-icons">redeem<\/i>';i=i+'<i class="material-icons">more_horiz<\/i>'}for(Materialize.toast(e.RecipeName+" orders updated to "+r.OrderSize,4e3,"order-toast"),i=i+"<p>Orders total: $"+r.CustPrice*r.OrderSize+"<\/p>",$("#orders_recipe_"+r.RecipeId).html(i),f=0,console.log(u),o=e.CustPrice,t=0;t<u.length;t++)f=f+u[t].OrderSize*u[t].CustPrice;$("#cust_total").html(f)}})});$(".delete-order").submit(function(n){n.preventDefault();var t=$("OrderId").serialize();console.log(t);$.ajax({url:"/Orders/Delete",data:$(this).serialize(),ajaxsync:!0,dataType:"json",type:"POST",success:function(){Materialize.toast("order deleted!",4e3)}})});$("#prep-ingredients-list").on("submit","form.prep-ingredient-ajax",function(n){n.preventDefault();$.ajax({url:"/Recipes/PrepIngredientAjax/",data:$(this).serialize(),dataType:"json",ajaxsync:!0,type:"POST",success:function(n){var t={RecipeId:n.RecipeId};updatePrepIngredients(t);updateRemoveIngredients(t)}})});$("#recipe-ingredients-list").on("submit","form.remove-ingredient-ajax",function(n){n.preventDefault();$.ajax({url:"/Recipes/RemoveIngredientAjax/",data:$(this).serialize(),dataType:"json",ajaxsync:!0,type:"POST",success:function(n){var t={RecipeId:n.RecipeId};updateRemoveIngredients(t);updatePrepIngredients(t)}})});$(".get-details").on("submit","form.getdetails",function(){console.log(params);$.ajax({type:"GET",async:!0,data:$(this).serialize(),contentType:"application/json; charset=utf-8",url:"/Home/GetInstDetails/",dataType:"json",cache:!1,beforeSend:function(){$("#loading").show()},success:function(n){console.log(n);$("#usernameLabel").text(n.data.username);$("#nameLabel").text(n.data.full_name);$("#bioLabel").text(n.data.bio);document.getElementById("imgProfilePic").src=n.data.profile_picture}})})});var updatePrepIngredients=function(n){return $.ajax({type:"GET",data:n,dataType:"json",url:"/Recipes/IngredientsDisplay/",success:function(n){var t="";n.Ingredients.forEach(function(i){t=t+'<li><form action="PrepIngredientAjax" class="prep-ingredient-ajax"><input hidden name="RecipeId" value="'+n.RecipeId+'"><input hidden name="IngredientId" value="'+i.IngredientId+'">'+i.Amount+" "+i.Unit+" "+i.IngredientName+'<button class="btn waves-effect waves-light delete-button" type="submit"><i class="material-icons">assignment_return<\/i><\/button><\/form><\/li>'});$("#prep-ingredients-list").html(t)}})},updateRemoveIngredients=function(n){return $.ajax({type:"GET",data:n,dataType:"json",url:"/Recipes/RemoveIngredientsDisplay/",success:function(n){var t="";console.log(n);n.Ingredients.forEach(function(i){t=t+'<li><form action="RemoveIngredientAjax" class="remove-ingredient-ajax"><input hidden name="RecipeId" value="'+n.RecipeId+'"><input hidden name="IngredientId" value="'+i.IngredientId+'">'+i.Amount+" "+i.Unit+" "+i.IngredientName+'<button type="submit" class="delete-button waves-ripple"><span class="delete-icon"><i class="material-icons">delete<\/i><\/span><\/button><\/form><\/li>'});$("#recipe-ingredients-list").html(t)}})};